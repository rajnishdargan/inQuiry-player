<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QUML Player web component demo</title>

  <link rel="stylesheet" href="./styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
    integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
    crossorigin="anonymous"></script>

  <style>
    .player-grid {
      width: 100%;
      height: 100vh;
      margin: 0 auto;
      display: grid;

      @media screen and (max-width:768px) {
        grid-template-columns: 100%;
        gap: 0px;
      }
    }
  </style>
</head>

<body>
  <div class="player-grid" id="my-player">
  </div>
  <script type="text/javascript" src="sunbird-quml-player.js"></script>
  <script type="text/javascript">
    const playerConfig = {
    "context": {
        "user": {
            "id": "15155b7a-5316-4bb2-992a-772093e85f44",
            "fullName": "Shubham",
            "firstName": "Shubham",
            "lastName": "Anonymous",
            "orgIds": [
                "scp-channel"
            ]
        },
        "identifier": "do_214250245884420096110",
        "sid": "fc798f3d-c22a-454b-846a-c88866c07bd4",
        "did": "b14493d5-4f76-4f9e-a6ca-bafd3b038b7f",
        "uid": "15155b7a-5316-4bb2-992a-772093e85f44",
        "channel": "scp-channel",
        "pdata": {
            "id": "pratham.admin.portal",
            "ver": "1.0.0",
            "pid": "pratham-portal.questionset_editor"
        },
        "contextRollup": {
            "l1": "scp-channel"
        },
        "tags": [
            "scp-channel"
        ],
        "cdata": [
            {
                "id": "scp-channel",
                "type": "pratham-portal"
            }
        ],
        "timeDiff": 5,
        "objectRollup": {},
        "host": "",
        "defaultLicense": "CC BY 4.0",
        "endpoint": "/data/v3/telemetry",
        "env": "questionset_editor",
        "framework": "scp-framework",
        "cloudStorageUrls": [
            "https://knowlg-public.s3.ap-south-1.amazonaws.com/"
        ],
        "labels": {
            "save_collection_btn_label": "Save as Draft"
        },
        "correctionComments": false,
        "sourcingResourceStatus": true,
        "cloudStorage": {
            "provider": "aws",
            "presigned_headers": {}
        },
        "userData": {
            "firstName": "Shubham",
            "lastName": "Anonymous"
        },
        "mode": "play",
        "threshold": 2
    },
    "config": {
        "rejectCommentsMaxLength": 500,
        "setDefaultCopyRight": true,
        "showOriginPreviewUrl": false,
        "showSourcingStatus": false,
        "showCorrectionComments": false,
        "assetConfig": {
            "image": {
                "size": "1",
                "sizeType": "MB",
                "accepted": "png, jpeg"
            },
            "video": {
                "size": "50",
                "sizeType": "MB",
                "accepted": "mp4, webm"
            },
            "audio": {
                "size": "50",
                "sizeType": "MB",
                "accepted": "mp3, wav"
            }
        },
        "questionPrimaryCategories": [
            "Multiple Choice Question",
            "Subjective Question",
            "Match The Following Question",
            "Arrange Sequence Question"
        ],
        "contentPrimaryCategories": [
            "Course Assessment",
            "eTextbook",
            "Explanation Content",
            "Learning Resource",
            "Practice Question Set"
        ],
        "readQuestionFields": "body,primaryCategory,mimeType,qType,answer,templateId,responseDeclaration,interactionTypes,interactions,name,solutions,editorState,media,remarks,evidence,hints,instructions,outcomeDeclaration,",
        "omitFalseyProperties": [
            "topic",
            "topicsIds",
            "targetTopicIds",
            "keywords"
        ],
        "questionSet": {
            "maxQuestionsLimit": 500
        },
        "createdByField": "board",
        "defaultStates": {
            "nonInteractiveQuestions": {
                "MTF": {
                    "question": "<p>Match the following:</p><table style='border-collapse: collapse; width: 100%; height: 36px;' border='1'><tbody><tr style='height: 18px;'><td style='width: 50%; height: 18px; text-align: center;'><strong>Column 1</strong></td><td style='width: 50%; height: 18px; text-align: center;'><strong>Column 2</strong></td></tr><tr style='height: 18px;'><td style='width: 50%; height: 18px; text-align: center;'></td><td style='width: 50%; height: 18px; text-align: center;'></td></tr></tbody></table>",
                    "answer": "<p>Match the following:</p><table style='border-collapse: collapse; width: 100%; height: 36px;' border='1'><tbody><tr style='height: 18px;'><td style='width: 50%; height: 18px; text-align: center;'><strong>Column 1</strong></td><td style='width: 50%; height: 18px; text-align: center;'><strong>Column 2</strong></td></tr><tr style='height: 18px;'><td style='width: 50%; height: 18px; text-align: center;'></td><td style='width: 50%; height: 18px; text-align: center;'></td></tr></tbody></table>"
                },
                "FTB": {
                    "question": "",
                    "answer": "",
                    "solutions": ""
                },
                "VSA": {
                    "question": "",
                    "answer": "",
                    "solutions": ""
                },
                "SA": {
                    "question": "",
                    "answer": "",
                    "solutions": ""
                },
                "LA": {
                    "question": "",
                    "answer": "",
                    "solutions": ""
                },
                "CuriosityQuestion": {
                    "question": "",
                    "answer": "",
                    "solutions": ""
                },
                "Comprehension": {
                    "question": "",
                    "answer": "",
                    "solutions": ""
                }
            }
        },
        "mode": "edit",
        "userSpecificFrameworkField": {
            "code": "board",
            "value": []
        },
        "enableQuestionCreation": true,
        "enableAddFromLibrary": true,
        "editableFields": {
            "sourcingreview": [
                "instructions"
            ],
            "orgreview": [
                "name",
                "instructions",
                "learningOutcome"
            ],
            "review": [
                "name",
                "description"
            ]
        },
        "maxDepth": 1,
        "objectType": "QuestionSet",
        "primaryCategory": "Practice Question Set",
        "isRoot": true,
        "iconClass": "fa fa-book",
        "hideSubmitForReviewBtn": false,
        "children": {},
        "addFromLibrary": false,
        "hierarchy": {
            "level1": {
                "name": "Section",
                "type": "Unit",
                "mimeType": "application/vnd.sunbird.questionset",
                "primaryCategory": "Practice Question Set",
                "iconClass": "fa fa-folder-o",
                "children": {
                    "Question": [
                        "Multiple Choice Question",
                        "Match The Following Question"
                    ]
                }
            }
        },
        "contentPolicyUrl": "/term-of-use.html",
        "assetProxyUrl": "/assets/public/",
        "commonFrameworkLicenseUrl": "https://creativecommons.org/licenses/",
        "sideMenu": {
            "enable": false,
            "showShare": false,
            "showDownload": false,
            "showReplay": true,
            "showExit": false
        }
    },
    "metadata": {
        "courseType": [
            "Foundation Course"
        ],
        "assessmentType": "Post Test",
        "subject": [
            "English"
        ],
        "channel": "scp-channel",
        "language": [
            "English"
        ],
        "program": [
            "Open School"
        ],
        "mimeType": "application/vnd.sunbird.questionset",
        "showHints": false,
        "objectType": "QuestionSet",
        "gradeLevel": [
            "Grade 10"
        ],
        "appIcon": "",
        "primaryCategory": "Practice Question Set",
        "children": [
            {
                "parent": "do_214250245884420096110",
                "instructions": "<p>Tes</p>",
                "code": "9b6a1317-f09c-4ded-84df-4003644c241e",
                "allowSkip": "Yes",
                "containsUserData": "No",
                "qumlVersion": 1.1,
                "channel": "scp-channel",
                "description": "Section-1",
                "language": [
                    "English"
                ],
                "mimeType": "application/vnd.sunbird.questionset",
                "showHints": false,
                "createdOn": "2025-02-14T11:22:00.804+0000",
                "objectType": "QuestionSet",
                "scoreCutoffType": "AssessmentLevel",
                "primaryCategory": "Practice Question Set",
                "children": [
                    {
                        "code": "5d541a7c-8103-418f-a9b9-0bdb48c5a999",
                        "subject": [
                            "English"
                        ],
                        "qumlVersion": 1.1,
                        "channel": "scp-channel",
                        "responseDeclaration": {
                            "response1": {
                                "cardinality": "multiple",
                                "type": "map",
                                "correctResponse": {
                                    "value": [
                                        {
                                            "left": 0,
                                            "right": [
                                                0
                                            ]
                                        },
                                        {
                                            "left": 1,
                                            "right": [
                                                1
                                            ]
                                        },
                                        {
                                            "left": 2,
                                            "right": [
                                                2
                                            ]
                                        },
                                        {
                                            "left": 3,
                                            "right": [
                                                3
                                            ]
                                        }
                                    ]
                                },
                                "mapping": [
                                    {
                                        "value": {
                                            "left": 0,
                                            "right": 0
                                        },
                                        "score": 0.25
                                    },
                                    {
                                        "value": {
                                            "left": 1,
                                            "right": 1
                                        },
                                        "score": 0.25
                                    },
                                    {
                                        "value": {
                                            "left": 2,
                                            "right": 2
                                        },
                                        "score": 0.25
                                    },
                                    {
                                        "value": {
                                            "left": 3,
                                            "right": 3
                                        },
                                        "score": 0.25
                                    }
                                ]
                            }
                        },
                        "language": [
                            "English"
                        ],
                        "medium": [
                            "Kannada"
                        ],
                        "mimeType": "application/vnd.sunbird.question",
                        "showHints": false,
                        "media": [],
                        "body": "<div class='question-body' tabindex='-1'><div class='mtf-title' tabindex='0'><p>Match the following fruits and it's colour</p></div><div data-match-interaction='response1' class='mtf-vertical'></div></div>",
                        "editorState": {
                            "options": {
                                "left": [
                                    {
                                        "value": {
                                            "body": "<p>Apple</p>",
                                            "value": 0
                                        }
                                    },
                                    {
                                        "value": {
                                            "body": "<p>Grapes</p>",
                                            "value": 1
                                        }
                                    },
                                    {
                                        "value": {
                                            "body": "<p>Orange</p>",
                                            "value": 2
                                        }
                                    },
                                    {
                                        "value": {
                                            "body": "<p>Banana</p>",
                                            "value": 3
                                        }
                                    }
                                ],
                                "right": [
                                    {
                                        "value": {
                                            "body": "<p>Red</p>",
                                            "value": 0
                                        }
                                    },
                                    {
                                        "value": {
                                            "body": "<p>Green</p>",
                                            "value": 1
                                        }
                                    },
                                    {
                                        "value": {
                                            "body": "<p>Orange</p>",
                                            "value": 2
                                        }
                                    },
                                    {
                                        "value": {
                                            "body": "<p>Yellow</p>",
                                            "value": 3
                                        }
                                    }
                                ]
                            },
                            "question": "<p>Match the following fruits and it's colour</p>"
                        },
                        "templateId": "mtf-vertical",
                        "createdOn": "2025-02-14T11:24:51.847+0000",
                        "objectType": "Question",
                        "interactions": {
                            "response1": {
                                "type": "match",
                                "options": {
                                    "left": [
                                        {
                                            "label": "<p>Apple</p>",
                                            "value": 0
                                        },
                                        {
                                            "label": "<p>Grapes</p>",
                                            "value": 1
                                        },
                                        {
                                            "label": "<p>Orange</p>",
                                            "value": 2
                                        },
                                        {
                                            "label": "<p>Banana</p>",
                                            "value": 3
                                        }
                                    ],
                                    "right": [
                                        {
                                            "label": "<p>Red</p>",
                                            "value": 0
                                        },
                                        {
                                            "label": "<p>Green</p>",
                                            "value": 1
                                        },
                                        {
                                            "label": "<p>Orange</p>",
                                            "value": 2
                                        },
                                        {
                                            "label": "<p>Yellow</p>",
                                            "value": 3
                                        }
                                    ]
                                },
                                "validation": {
                                    "required": "Yes"
                                }
                            }
                        },
                        "gradeLevel": [
                            "Grade 10"
                        ],
                        "primaryCategory": "Match The Following Question",
                        "contentDisposition": "inline",
                        "lastUpdatedOn": "2025-02-14T11:24:52.023+0000",
                        "contentEncoding": "gzip",
                        "showSolutions": false,
                        "allowAnonymousAccess": "Yes",
                        "identifier": "do_214250248534810624113",
                        "lastStatusChangedOn": "2025-02-14T11:24:51.847+0000",
                        "schemaVersion": "1.1",
                        "visibility": "Default",
                        "showTimer": false,
                        "author": "Shubham",
                        "solutions": {},
                        "outcomeDeclaration": {
                            "maxScore": {
                                "cardinality": "multiple",
                                "type": "integer",
                                "defaultValue": 1
                            },
                            "hint": {
                                "cardinality": "single",
                                "type": "string",
                                "defaultValue": "4fb6062b-acae-4659-8141-cacc0a29b643"
                            }
                        },
                        "qType": "MTF",
                        "maxScore": 1,
                        "languageCode": [
                            "en"
                        ],
                        "versionKey": "1739532292023",
                        "showFeedback": false,
                        "license": "CC BY 4.0",
                        "interactionTypes": [
                            "match"
                        ],
                        "framework": "scp-framework",
                        "answer": "<div class='match-container'><div class='left-options'><div class='left-option'><p>Apple</p></div><div class='left-option'><p>Grapes</p></div><div class='left-option'><p>Orange</p></div><div class='left-option'><p>Banana</p></div></div><div class='right-options'><div class='right-option'><p>Red</p></div><div class='right-option'><p>Green</p></div><div class='right-option'><p>Orange</p></div><div class='right-option'><p>Yellow</p></div></div></div>",
                        "createdBy": "15155b7a-5316-4bb2-992a-772093e85f44",
                        "compatibilityLevel": 5,
                        "name": "MTF",
                        "board": "Karnataka State Education Board",
                        "status": "Draft"
                    },
                    {
                        "code": "3e619871-58dc-432f-84ea-7ff84c8e8e80",
                        "subject": [
                            "English"
                        ],
                        "qumlVersion": 1.1,
                        "channel": "scp-channel",
                        "responseDeclaration": {
                            "response1": {
                                "cardinality": "ordered",
                                "type": "integer",
                                "correctResponse": {
                                    "value": [
                                        0,
                                        1,
                                        2,
                                        3
                                    ]
                                },
                                "mapping": [
                                    {
                                        "value": 0,
                                        "score": 0.25
                                    },
                                    {
                                        "value": 1,
                                        "score": 0.25
                                    },
                                    {
                                        "value": 2,
                                        "score": 0.25
                                    },
                                    {
                                        "value": 3,
                                        "score": 0.25
                                    }
                                ]
                            }
                        },
                        "language": [
                            "English"
                        ],
                        "medium": [
                            "Kannada"
                        ],
                        "mimeType": "application/vnd.sunbird.question",
                        "showHints": false,
                        "media": [],
                        "body": "<div class='question-body' tabindex='-1'><div class='asq-title' tabindex='0'><p>Arrange the following numbers in Ascending order</p></div><div data-order-interaction='response1' class='asq-vertical'></div></div>",
                        "editorState": {
                            "options": [
                                {
                                    "value": {
                                        "body": "<p>One</p>",
                                        "value": 0
                                    }
                                },
                                {
                                    "value": {
                                        "body": "<p>Two</p>",
                                        "value": 1
                                    }
                                },
                                {
                                    "value": {
                                        "body": "<p>Three</p>",
                                        "value": 2
                                    }
                                },
                                {
                                    "value": {
                                        "body": "<p>Four</p>",
                                        "value": 3
                                    }
                                }
                            ],
                            "question": "<p>Arrange the following numbers in Ascending order</p>"
                        },
                        "templateId": "asq-vertical",
                        "createdOn": "2025-02-20T10:05:44.465+0000",
                        "objectType": "Question",
                        "interactions": {
                            "response1": {
                                "type": "order",
                                "options": [
                                    {
                                        "label": "<p>One</p>",
                                        "value": 0
                                    },
                                    {
                                        "label": "<p>Two</p>",
                                        "value": 1
                                    },
                                    {
                                        "label": "<p>Three</p>",
                                        "value": 2
                                    },
                                    {
                                        "label": "<p>Four</p>",
                                        "value": 3
                                    }
                                ],
                                "validation": {
                                    "required": "Yes"
                                }
                            }
                        },
                        "gradeLevel": [
                            "Grade 10"
                        ],
                        "primaryCategory": "Arrange Sequence Question",
                        "contentDisposition": "inline",
                        "lastUpdatedOn": "2025-02-20T10:05:44.714+0000",
                        "contentEncoding": "gzip",
                        "showSolutions": false,
                        "allowAnonymousAccess": "Yes",
                        "identifier": "do_21425445637645926411",
                        "lastStatusChangedOn": "2025-02-20T10:05:44.465+0000",
                        "schemaVersion": "1.1",
                        "visibility": "Default",
                        "showTimer": false,
                        "author": "Shubham",
                        "solutions": {},
                        "outcomeDeclaration": {
                            "maxScore": {
                                "cardinality": "ordered",
                                "type": "integer",
                                "defaultValue": 1
                            },
                            "hint": {
                                "cardinality": "single",
                                "type": "string",
                                "defaultValue": "6e97fbe9-d158-4646-b72f-2a37f783799a"
                            }
                        },
                        "qType": "ASQ",
                        "maxScore": 1,
                        "languageCode": [
                            "en"
                        ],
                        "versionKey": "1740045944714",
                        "showFeedback": false,
                        "license": "CC BY 4.0",
                        "interactionTypes": [
                            "order"
                        ],
                        "framework": "scp-framework",
                        "answer": "<div class='answer-container'><div class='answer-body'><p>One</p></div><div class='answer-body'><p>Two</p></div><div class='answer-body'><p>Three</p></div><div class='answer-body'><p>Four</p></div></div>",
                        "createdBy": "15155b7a-5316-4bb2-992a-772093e85f44",
                        "compatibilityLevel": 5,
                        "name": "ASQ",
                        "board": "Karnataka State Education Board",
                        "status": "Draft"
                    }
                ],
                "contentDisposition": "inline",
                "lastUpdatedOn": "2025-02-20T10:35:02.418+0000",
                "contentEncoding": "gzip",
                "generateDIALCodes": "No",
                "showSolutions": false,
                "trackable": {
                    "enabled": "No",
                    "autoBatch": "No"
                },
                "allowAnonymousAccess": "Yes",
                "identifier": "do_214250247133626368111",
                "lastStatusChangedOn": "2025-02-14T11:22:00.804+0000",
                "schemaVersion": "1.1",
                "requiresSubmit": "No",
                "visibility": "Parent",
                "showTimer": false,
                "index": 1,
                "setType": "materialised",
                "languageCode": [
                    "en"
                ],
                "versionKey": "1739532120804",
                "showFeedback": false,
                "license": "CC BY 4.0",
                "depth": 1,
                "compatibilityLevel": 6,
                "name": "Section-1",
                "navigationMode": "non-linear",
                "allowBranching": "No",
                "timeLimits": {
                    "questionSet": {
                        "max": 0,
                        "min": 0
                    }
                },
                "shuffle": true,
                "attributions": [],
                "status": "Draft"
            }
        ],
        "contentEncoding": "gzip",
        "generateDIALCodes": "No",
        "showSolutions": false,
        "trackable": {
            "enabled": "No",
            "autoBatch": "No"
        },
        "identifier": "do_214250245884420096110",
        "visibility": "Default",
        "showTimer": false,
        "author": "Shubham",
        "childNodes": [
            "do_214250248534810624113",
            "do_214250247133626368111",
            "do_21425445637645926411"
        ],
        "languageCode": [
            "en"
        ],
        "license": "CC BY 4.0",
        "name": "Test QuestionSet",
        "allowBranching": "No",
        "status": "Draft",
        "code": "4640d581-1a32-434d-8e8a-9ae394ee2c4d",
        "allowSkip": "Yes",
        "containsUserData": "No",
        "qumlVersion": 1.1,
        "description": "Test QuestionSet",
        "medium": [
            "Kannada"
        ],
        "createdOn": "2025-02-14T11:19:28.316+0000",
        "scoreCutoffType": "AssessmentLevel",
        "contentDisposition": "inline",
        "lastUpdatedOn": "2025-02-20T10:35:02.593+0000",
        "allowAnonymousAccess": "Yes",
        "lastStatusChangedOn": "2025-02-14T11:19:28.316+0000",
        "schemaVersion": "1.1",
        "requiresSubmit": "No",
        "setType": "materialised",
        "versionKey": "1740047702593",
        "showFeedback": false,
        "framework": "scp-framework",
        "depth": 0,
        "createdBy": "15155b7a-5316-4bb2-992a-772093e85f44",
        "compatibilityLevel": 6,
        "navigationMode": "non-linear",
        "timeLimits": {
            "questionSet": {
                "max": 0,
                "min": 0
            }
        },
        "shuffle": true,
        "board": "Karnataka State Education Board",
        "instructions": null,
        "outcomeDeclaration": {
            "maxScore": {
                "cardinality": "single",
                "type": "integer",
                "defaultValue": 2
            }
        },
        "level": 1,
        "keywords": "",
        "maxTime": null,
        "maxAttempts": null,
        "summaryType": null,
        "maxQuestions": 2
    },
    "data": {}
    }

    // Need to pass the API URL to fetch the question set
    window.questionListUrl = 'https://dev-middleware.prathamdigital.org/api/question/v2/list';
    const qumlPlayerElement = document.createElement('sunbird-quml-player');
    qumlPlayerElement.setAttribute('player-config', JSON.stringify(playerConfig));
    qumlPlayerElement.addEventListener('playerEvent', (event) => {
      console.log("On playerEvent", event);
    });

    qumlPlayerElement.addEventListener('telemetryEvent', (event) => {
      console.log("On telemetryEvent", event);
    });

    const myPlayer = document.getElementById("my-player");
    myPlayer.appendChild(qumlPlayerElement);
  </script>
</body>

</html>


<!--
  Steps to run locally:
  1. Install http-server npm package locally `npm i http-server -g`
  2. Build the web component using `npm run build-web-component`
  3. Run the server using `http-server --cors web-component .`
-->